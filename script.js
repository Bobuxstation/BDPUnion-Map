var countryData = {
    "rafidland": {
        "flag": 'rafidland.svg',
        "President": "Rafid",
        "Land Name": "Rafid land",
        "Capital City": "Rafidus",
        "Independence": "9 September 1999",
        "Ideology": "liberalism",
        "Currency": "Difar",
        "States": "19",
        "Main Language": "English",
        "Resources": "diamond gold iron oil and wood",
        "Population": "99.607.953",
        "Troops": "991.960",
        "Main Animal": "cat",
        "Religion": "muslim (90%) hindu (10%)",
        "news": {
            "Rafid Land has relocated its cities underground, using the surface structures as decoys to detect potential nuclear threats, while ensuring the safety of all citizens residing in the subterranean cities.": "#",
            "Rafid Land has commenced the construction of underground/undersea highways, linking it with the central continent via Zeanland.": "#",
        }
    },
    "nandaland": {
        "flag": "nandaland.svg",
        "Land Name": "Nanda land",
        "Capital City": "Nandus",
        "Independence": "25 May 1863",
        "Ideology": "freedom",
        "Currency": "ndesh",
        "States": "17",
        "Main Language": "English",
        "Resources": "oil",
        "Population": "1 750 000 000",
        "Troops": "10 550 000",
        "news": {
            "Nandaland has successfully invaded Silatland with Arkaland, dividing it into North and South Silatland.": "#"
        }
    },
    "zeanland": {
        "flag": "zeanland.webp",
        "Land Name": "Zeanland",
        "Type": "Republic",
        "Ideology": "Liberalism",
        "National Anthem": "Meine Land",
        "States": "15",
        "Capital City": "Glorreiche",
        "Economy": "BU dollar",
        "Main Language": "German",
        "Population": "1.739.213.792",
        "Active Troops": "194.769.895",
        "Bans": "Smoking, drugs, money laundry",
        "Religion": "Islam (87%), Christian (6%), Hindu (3%), Buddha (2%), Konghucu (1%), Judaism (1%)",
        "Race Population": "Asian Mongoloid (64.8%), Malayan Mongoloid (36.2%), Caucasian (9.6%), Melanenoid (0.3%)",
        "Resources": "Barley, Rice, Wheat, Black Pepper, Iron, Copper",
        "news": {
            "Kugae is now held hostage by Liberation PACT": "#",
            "Zeanland bans cinema from disallowing people to bring outside food": "#",
            "Zeanland bans limited account on steam": "#",
            "Conventions or exhibitions in zeanland are no longer allowed to have a ticket to enter": "#",
            "Zeanland re-bans crossplaying again": "#",
            "Zeanland goverment of social media has banned the clown emoji due to cyber bullying": "#",
            "In zeanland, all apple products that contain lightning port must be changed to usb c": "#",
            "Zeanland has now banned any means of spicy because citizens have protested": "#",
            "In zeanland, kigurumi mask studios are forced to deflate their prices": "#",
            "Zeanland now bans nitro due to unfairness": "#",
            "Zeanland has now launched the first cosplayer in space": "#",
            "Crossword puzzles are banned due to citizen's hatery over crossword puzzles": "#",
        }
    },
    "silatland": {
        "flag": 'silatland.svg',
        "Land Name": "People's Republic of Silat (Central Silat Kingdom)",
        "Capital City": "Sakti City",
        "Leader": "King Silat IV",
        "Independence": "4th april 2004",
        "Ideology": "Communism",
        "Currency": "Bakti",
        "States": "1",
        "Main Language": "Silatish/SilatSpeak",
        "Population": "50 000 000",
        "Troops": "10 000 000",
        "news": {
            "Silat Land has inaugurated its first nuclear power plant, a development with potential implications. The concern arises over the possibility of nuclear weapon acquisition.": "#"
        }
    },
    "asatland": {
        "flag": 'asatland.webp',
        "Land Name": "Federation of Asatland",
        "President": "Asat",
        "Independence": "6 September 1869",
        "Ideology": "liberal democracy",
        "Currency": "asatbucks or BU$",
        "Resources/Exports": "oil, gold, copper, tin, livestock and coal",
        "GDP": "2.3 Trillion BU$",
        "States": "6 (Capital island, Narvian island, North Asatka, West mainland, East mainland, Qrodexia)",
        "Capital City": "Dahlia City (formerly known as arsyadnegara)",
        "Megacities": "7 (Dahlia City, BigBurg, Arkarta, Classic town, Farmlands, Farmtopia, sutown)",
        "Main Languages": "English and Narvian",
        "Population": "4.2 bil",
        "Religion": "Islam (89%), Christianity (5%), Judaism (3%), Others (3%) (Mostly atheism)",
        "Troops": "106.9M Prepared",
        "news": {
            "Asatland implements new weather voting system, letting citizens vote for the weather of that day": "#",
            "Asatland warmly embraces Qrodexia into the federation.": "#",
            "Asatland's new high-speed metro now seamlessly connects all islands to a central hub on the mainland, marking the completion of its construction.": "#",
            "Asatland's government has transitioned from fascism to liberal democracy, heralding a new era of reform.": "#",
            "The inauguration of Asatland's inaugural nuclear power plant on Narvian Island has resulted in 100% of homes now receiving reliable electricity, a significant increase from the previous 85% supplied by coal power plants.": "#",
            "Narvian City's eastern region faced bombardment from the Welan Empire, resulting in an exchange of 650 casualties.": "#",
            "Asatland has achieved a successful invasion of East Silatland, now establishing it as a puppet state under Asatland's control.": "#",
            "Oil reserves discovered off the coast of Narvian Island prompt Welan to prepare for invasion.": "#",
            "After days of riots, Asatland's longstanding president, Al-Fonso, has stepped down following over three decades of rule, signifying a new era in the nation's history.": "#",
            "Silatland spies operating on Narvian Island have been apprehended and deported back to Silatland, with a total of 40 individuals discovered.": "#",
            "Asatland's President, Al-Fonso, has initiated a shift in the country's ideology from liberal democracy to fascism, sparking widespread protests across the nation.": "#",
            "Asatland has updated its flag, removing the symbol of the crown.": "#",
        }
    },
    "farrasland": {
        "flag": 'Farrasland.png',
        "Land Name": "United Farras Emirates",
        "Capital City": "مدينة فرس",
        "Independence": "20 june 1880",
        "Ideology": "Islamic",
        "Currency": "Dinar",
        "States": "1",
        "Main Language": "Arabic",
        "Population": "290 000 000",
        "Troops": "6 000 000",
        "news": {
            "Farrasland teeters on the brink of civil war as the majority of non-Muslims advocate for the creation of a separate nation.": "#",
            "Farrasland has re-entered the BDP Union following diplomatic efforts to restore peace.": "#",
            "Farrasland's economy has surged, surpassing that of Silatland and the Welan Empire, yet it remains beneath Rafidland's economic prowess.": "#",
            "Farrasland has shifted its capital from \"Farrus\" to \"Madinat Faras\" upon the completion of the new capital's construction.": "#",
            "Farrasland withdrew from the BDP Union following conflicts.": "#"
        }
    },
    "arkaland": {
        "flag": "arka_land_flag_2.png",
        "President": "arka",
        "Land Name": "Arkaland",
        "Capital City": "arkus",
        "Independence": "28 September 1715",
        "Ideology": "social democracy",
        "Currency": "BU dollar",
        "Main Language": "english",
        "Resources": "pretty much everything",
        "Population": "4.9 bil",
        "Troops": "42.0m all active",
        "Main Animal": "CAT NAMED DOG",
        "news": {
            "Arkaland have reduced the legal age of drinking from 21 to 18": "#",
            "Arkaland gdp increased by 3.5% in Q1, we expect it to increase by 3.6% in Q2": "#",
            "Arkaland will take in any atheists and LGBTQ+ refugees from the prosecution going on in Zean land": "#",
            "Shooting in Zean land embassy in Arkaland": "#",
            "PH has been banned!": "https://docs.google.com/document/d/1sNHpn3yst4Dh-tonqrN6c4wzkvYJl35UeFDfmWgGfvE/edit?usp=sharing",
            "Massive bombing in Arkaland capital.": "https://docs.google.com/document/d/1lERWSLShP6q_oqWYtbe5R8rD3dwc4pWscRs1WPLlpxQ/edit?usp=sharing",
            "School shooting": "https://docs.google.com/document/d/16Om8GxuZz4W3iowSPiMZBRSja6dhthQs8Nlvuvottig/edit?usp=sharing",
            "Cryptocurrency is legalized": "https://docs.google.com/document/d/1ee8S9umvprNcFOBGBQxX4HzxMBgacOC1p7Zt1yw2b2g/edit?usp=sharing"
        }
    },
    "welan": {
        "flag": 'Welan.png',
        "Land Name": "The Great Welan Empire*",
        "Information": "The Great Welan Empire is a puppet state of Arkaland",
        "Capital City": "Welan City",
        "Independence": "1 october 2001",
        "Ideology": "Fascism",
        "Currency": "Silver",
        "States": "5",
        "Main Language": "Welanese (cyrillic)",
        "Population": "89 000 000",
        "Troops": "100 000",
        "news": {
            "Under Arkaland's rule as a puppet state, the Welan Empire has seen a notable rise in life expectancy.": "#",
            "Welan empire has surenderred shortly after having its capital bombed by Arkaland forces": "#",
            "Welan empire have obtained nuclear weapons, marking the start of a new war.": "#",
        }
    },
    "azkaland": {
        "flag": 'azkaland.svg',
        "Land Name": "Imperial Land of Azka (Azkaland)",
        "Capital City": "Town/Tuhn",
        "Independence": "1 april 2024",
        "Ideology": "Moderate nationalist",
        "Currency": "Gold Nuggets",
        "States": "19",
        "Main Language": "Indonesinglish",
        "Population": "500 million",
        "Troops": "9 million highly trained, 50 mil raw trained",
        "Resources": "gold, iron, tungsten, copper, oil, emerald",
        "Religion": "Atheism (98%), Islam (1%), Others (1%)",
        "news": {
            "Azkaland has asserted its independence, staking claim to southern Zeanland and the unclaimed Fire Isles as its sovereign territory.": "#",
            "Government of azkaland accounces that it will not use BU$ as currency due to the citizens having suspicions about foreign interference": "#",
            "The azkaland government entrusts exploratory laboratories with the design and production of a new performance-enhancing drug": "#"
        }
    },
    "qrodexia": {
        "flag": 'qrodexia.png',
        "Land Name": "Qrodexia*",
        "Information": "Qrodexia is a colony of the Asatland Federation",
        "Capital City": "Qrodexia",
        "Ideology": "liberal democracy",
        "Currency": "asatbucks or BU$",
        "States": "1",
        "Main Language": "Sakal",
        "Population": "12 million",
        "Resources": "gold, copper, oil",
        "news": {
            "Azkaland has been granted the permit to stop on Qrodexia for rest or refueling before continuing to western Azkaland": "#"
        }
    },
    "domberion": {
        "flag": '',
        "Land Name": "Domberion*",
        "Information": "The approval of Domberion into the BDP Union is still pending.",
        "news": {
            "BDP Union welcomes Domberion with open hands.": "#"
        }
    },
    "sepia": {
        "flag": 'sepia.jpeg',
        "President": "Mohammed Sig Ahmad",
        "Land Name": "The Sigma's Republic of Sepia",
        "Capital City": "New Sabinia",
        "Independence": "10 may 2024",
        "Ideology": "Total Sigmanism",
        "Currency": "Diamond ML",
        "States": "3",
        "Main Language": "Sepian",
        "Resources": "Infinity stone, Nokium",
        "Exports": "GTA 6, AB Games",
        "Population": "460 000 000",
        "Troops": "20 000 000",
        "Main Animal": "Sepian Manatee",
        "news": {
            "BDP Union welcomes The Sigma's Republic of Sepia with open hands.": "#"
        }
    }
}

document.querySelectorAll("path").forEach(function (island) {
    if (countryData[island.className.baseVal]) {
        island.setAttribute("title", countryData[island.className.baseVal]['Land Name'])

        island.onclick = function () {
            document.getElementById("countrydesc").style.display = "block";
            var fullstr = ``;
            const country = countryData[island.className.baseVal];

            if (country.flag === false) {
                document.getElementById('flag').src = '';

                if (document.getElementById('object')) { document.getElementById('object').remove() };
            } else if (country.flag.includes('svg')) {
                if (document.getElementById('object')) { document.getElementById('object').remove() };

                let objectelem = document.createElement('object')
                objectelem.type = 'image/svg+xml'
                objectelem.data = country.flag
                objectelem.id = 'object'
                document.getElementById("nationDetails").prepend(objectelem)

                document.getElementById('flag').src = '';
            } else {
                document.getElementById('flag').src = country.flag;

                if (document.getElementById('object')) { document.getElementById('object').remove() };
            }
            document.getElementById("countryName").innerHTML = '<a onclick="this.parentNode.parentNode.style.display = `none`" style="float: right;display: flex;justify-content: center;place-items: center;height: 32px;"><i class="fa-solid fa-xmark"></i></a>' + country['Land Name'];

            if (!country['news']) {
                document.getElementById('newsholder').innerText = 'No news availible!'
            } else {
                document.getElementById('newsholder').innerText = ''
            }

            Object.keys(country).forEach(function (item, i) {
                if (item == 'flag') return;
                if (item == 'news') {
                    Object.keys(country[item]).forEach(function (item, i) {
                        let newscard = document.createElement('div')
                        newscard.innerText = item
                        newscard.onclick = function () {
                            window.location.href = country['news'][item]
                        }
                        document.getElementById("newsholder").append(newscard)
                    })
                    return
                }

                let currline = `<b>${item}</b>: ${country[item]}<br>`;
                fullstr += currline;
            });

            document.getElementById("desc").innerHTML = fullstr;
        }
    } else {
        island.setAttribute("title", "Unclaimed Territory")
    }

    $('path[title]').tipsy({
        arrowWidth: 10,
        attr: 'data-tipsy',
        cls: null,
        duration: 150,
        offset: 0,
        position: 'top-right',
        trigger: 'hover',
        onShow: null,
        onHide: null
    })
});
